"use strict";(self["webpackChunkbutterfly_shop"]=self["webpackChunkbutterfly_shop"]||[]).push([[628],{2628:function(t,e,l){l.r(e),l.d(e,{default:function(){return P}});var a=l(6768),s=l(4232);const c={class:"table-responsive pt-4"},o={class:"table table-striped"},d={scope:"row"},i=["src","alt"],n=["onClick"],u=["onClick"],r=["onClick"],p={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},L={class:"modal-content"},b={class:"modal-footer m-auto"};function h(t,e,l,h,m,f){const v=(0,a.g2)("LoadingScreen");return(0,a.uX)(),(0,a.CE)(a.FK,null,[h.products.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(v,{key:0})),h.isLoading?((0,a.uX)(),(0,a.Wv)(v,{key:1})):(0,a.Q3)("",!0),(0,a.Lk)("main",null,[(0,a.Lk)("section",c,[(0,a.Lk)("table",o,[e[1]||(e[1]=(0,a.Lk)("thead",{class:"mb-5"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"ID"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Image"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Title"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"}," Description "),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Price"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Quantity"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"View"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Edit"),(0,a.Lk)("th",{scope:"col",class:"text-capitalize text-default"},"Delete")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(h.products,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.id},[(0,a.Lk)("th",d,(0,s.v_)(t.id),1),(0,a.Lk)("td",null,[(0,a.Lk)("img",{src:t.thumbnail?t.thumbnail:"/logo.png",alt:t.title,class:"w-100 thumbnail"},null,8,i)]),(0,a.Lk)("td",null,(0,s.v_)(t.title),1),(0,a.Lk)("td",null,(0,s.v_)(t.description.slice(0,50))+"...",1),(0,a.Lk)("td",null,(0,s.v_)(t.price)+"$",1),(0,a.Lk)("td",null,(0,s.v_)(t.stock),1),(0,a.Lk)("td",null,[(0,a.Lk)("i",{class:"fa-solid fa-eye text-blue p-1",onClick:e=>h.getProductDetails(t.id)},null,8,n)]),(0,a.Lk)("td",null,[(0,a.Lk)("i",{class:"fa-solid fa-pen-to-square text-secondary p-1",onClick:e=>h.editProduct(t.id)},null,8,u)]),(0,a.Lk)("td",null,[(0,a.Lk)("i",{class:"fa-solid fa-trash text-danger p-1","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:e=>h.showModal(t.id)},null,8,r)])])))),128))])])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",k,[(0,a.Lk)("div",L,[e[3]||(e[3]=(0,a.Lk)("div",{class:"modal-header"},[(0,a.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),e[4]||(e[4]=(0,a.Lk)("div",{class:"modal-body"},[(0,a.Lk)("p",{class:"modal-title fs-6 fw-semibold text-center text-blue",id:"exampleModalLabel"}," Are you sure you want to delete this? ")],-1)),(0,a.Lk)("div",b,[(0,a.Lk)("button",{type:"button",class:"btn btn-sm btn-danger me-2 px-5",onClick:e[0]||(e[0]=t=>h.deleteProduct()),"data-bs-dismiss":"modal"}," Delete "),e[2]||(e[2]=(0,a.Lk)("button",{type:"button",class:"btn btn-sm btn-blue px-5","data-bs-dismiss":"modal"}," Cancel ",-1))])])])])])],64)}l(4114);var m=l(782),f=l(144),v=l(1387),x=l(8660),g={name:"ProductsComp",components:{LoadingScreen:x.A},setup(){const t=(0,m.Pj)(),e=(0,v.rd)(),l=(0,a.EW)((()=>t.getters.getAllProducts)),s=(0,f.KR)(0),c=(0,f.KR)(!1),o=t=>{e.push(`/products/${t}`)},d=async l=>{try{c.value=!0,await t.dispatch("getProductById",l),s.value=l,e.push(`/products/edit-product/${l}`),c.value=!1}catch(a){console.error("Failed to fetch product:",a)}},i=t=>{s.value=t},n=async()=>{try{c.value=!0,await t.dispatch("deleteProduct",s.value),t.dispatch("getAllProducts"),c.value=!1}catch(e){console.error("Failed to delete product:",e)}};return(0,a.sV)((()=>t.dispatch("getAllProducts"))),{products:l,editProduct:d,deleteProduct:n,showModal:i,getProductDetails:o,productId:s,isLoading:c}}},y=l(1241);const C=(0,y.A)(g,[["render",h],["__scopeId","data-v-54da7d78"]]);var P=C},8660:function(t,e,l){l.d(e,{A:function(){return n}});var a=l(6768);const s={class:"loading-screen d-flex justify-content-center align-items-center min-vh-100"};function c(t,e,l,c,o,d){return(0,a.uX)(),(0,a.CE)("div",s,e[0]||(e[0]=[(0,a.Lk)("span",{class:"loader"},null,-1)]))}var o={name:"LoadingScreen"},d=l(1241);const i=(0,d.A)(o,[["render",c],["__scopeId","data-v-9f0c320a"]]);var n=i}}]);
//# sourceMappingURL=628.cd2bef62.js.map