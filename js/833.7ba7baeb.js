"use strict";(self["webpackChunkbutterfly_shop"]=self["webpackChunkbutterfly_shop"]||[]).push([[833],{3833:function(t,e,o){o.r(e),o.d(e,{default:function(){return P}});var l=o(6768),r=o(4232),c=o(5130);const a={class:"text-center text-blue mb-4 h3 fw-semibold"},i={class:"row g-3 align-items-center mb-3"},s={class:"col-12"},n={class:"col-12"},u={class:"col-12"},d={class:"col-12 col-md-6"},m={class:"col-12 col-md-6"};function p(t,e,o,p,b,f){const k=(0,l.g2)("LoadingScreen");return(0,l.uX)(),(0,l.CE)(l.FK,null,[p.isLoading?((0,l.uX)(),(0,l.Wv)(k,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("h1",a,(0,r.v_)(p.isEdit?"Edit":"Add")+" New Product ",1),(0,l.Lk)("form",{class:"border-blue p-3 rounded-3",method:"post",onSubmit:e[5]||(e[5]=(0,c.D$)((t=>p.isEdit?p.editProduct():p.addNewProduct()),["prevent"]))},[(0,l.Lk)("div",i,[(0,l.Lk)("div",s,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Product Title","aria-label":"Product Title","onUpdate:modelValue":e[0]||(e[0]=t=>p.formValues.title=t)},null,512),[[c.Jo,p.formValues.title,void 0,{lazy:!0,trim:!0}]])]),(0,l.Lk)("div",n,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Product Description","aria-label":"Product Description","onUpdate:modelValue":e[1]||(e[1]=t=>p.formValues.description=t)},null,512),[[c.Jo,p.formValues.description,void 0,{lazy:!0,trim:!0}]])]),(0,l.Lk)("div",u,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Product Image Link","aria-label":"Product Image Link","onUpdate:modelValue":e[2]||(e[2]=t=>p.formValues.thumbnail=t)},null,512),[[c.Jo,p.formValues.thumbnail,void 0,{lazy:!0,trim:!0}]])]),(0,l.Lk)("div",d,[(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control form-control-sm",placeholder:"Product Price","aria-label":"Product Price","onUpdate:modelValue":e[3]||(e[3]=t=>p.formValues.price=t)},null,512),[[c.Jo,p.formValues.price,void 0,{lazy:!0,trim:!0,number:!0}]])]),(0,l.Lk)("div",m,[(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control form-control-sm",placeholder:"Product Quantity","aria-label":"Product Quantity","onUpdate:modelValue":e[4]||(e[4]=t=>p.formValues.stock=t)},null,512),[[c.Jo,p.formValues.stock,void 0,{lazy:!0,trim:!0,number:!0}]])])]),e[7]||(e[7]=(0,l.Lk)("button",{type:"submit",class:"btn btn-sm btn-blue w-100"},"Submit",-1)),(0,l.Lk)("p",{class:"text-success text-center mt-2 mb-0 fw-bold",style:(0,r.Tr)(p.submitted?{display:"block"}:{display:"none"})},e[6]||(e[6]=[(0,l.eW)(" Your data is submitted Successfully "),(0,l.Lk)("i",{class:"fa-solid fa-circle-check"},null,-1)]),4)],32)],64)}o(4114);var b=o(144),f=o(1387),k=o(782),v=o(8660),h={name:"FormComp",components:{LoadingScreen:v.A},setup(){const t=(0,k.Pj)(),e=(0,f.lq)(),o=(0,f.rd)();let r=(0,b.KR)(!1);const c=(0,b.Kh)(t.state.product),a=(0,b.KR)(!1),i=(0,b.KR)(e.fullPath.includes("edit")),s=(0,b.Kh)({title:"",description:"",price:"",stock:"",thumbnail:""}),n=()=>{s.title="",s.description="",s.thumbnail="",s.price="",s.stock=""},u=async()=>{try{a.value=!0,await t.dispatch("addNewProduct",s),n(),r.value=!0,a.value=!1}catch(e){console.log("error in posting product",e)}},d=()=>{s.title=c.title,s.description=c.description,s.thumbnail=c.thumbnail,s.price=c.price,s.stock=c.stock},m=async()=>{try{a.value=!0,await t.dispatch("editProduct",s),a.value=!1,o.push("/products")}catch(e){console.error("Failed to update product:",e)}};return(0,l.sV)((()=>{i.value?d():n()})),(0,l.wB)((()=>e.fullPath),(t=>{i.value=t.includes("edit"),i.value?d():n()})),{formValues:s,addNewProduct:u,submitted:r,editProduct:m,isLoading:a,isEdit:i}}},y=o(1241);const L=(0,y.A)(h,[["render",p],["__scopeId","data-v-5cad7e3a"]]);var P=L},8660:function(t,e,o){o.d(e,{A:function(){return n}});var l=o(6768);const r={class:"loading-screen d-flex justify-content-center align-items-center min-vh-100"};function c(t,e,o,c,a,i){return(0,l.uX)(),(0,l.CE)("div",r,e[0]||(e[0]=[(0,l.Lk)("span",{class:"loader"},null,-1)]))}var a={name:"LoadingScreen"},i=o(1241);const s=(0,i.A)(a,[["render",c],["__scopeId","data-v-9f0c320a"]]);var n=s}}]);
//# sourceMappingURL=833.7ba7baeb.js.map