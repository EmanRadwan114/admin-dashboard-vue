"use strict";(self["webpackChunkbutterfly_shop"]=self["webpackChunkbutterfly_shop"]||[]).push([[876],{3495:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=s(6768),a=s(4232),o=s(5130);const r={class:"text-center text-blue mb-4 h3 fw-semibold"},n={class:"row g-3 align-items-center mb-3"},l={class:"col-12"},d={class:"col-12"};function u(t,e,s,u,c,m){const h=(0,i.g2)("LoadingScreen");return(0,i.uX)(),(0,i.CE)(i.FK,null,[c.isLoading?((0,i.uX)(),(0,i.Wv)(h,{key:0})):(0,i.Q3)("",!0),(0,i.Lk)("h1",r,(0,a.v_)(m.isEdit?"Edit":"Add")+" New Category ",1),(0,i.Lk)("form",{class:"border-blue p-3 rounded-3",method:"post",onSubmit:e[2]||(e[2]=(0,o.D$)((t=>m.isEdit?m.editCategory():m.addCategory()),["prevent"]))},[(0,i.Lk)("div",n,[(0,i.Lk)("div",l,[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Product Title","aria-label":"Product Title","onUpdate:modelValue":e[0]||(e[0]=t=>c.formValues.title=t)},null,512),[[o.Jo,c.formValues.title,void 0,{lazy:!0,trim:!0}]])]),(0,i.Lk)("div",d,[(0,i.bo)((0,i.Lk)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Product Image Link","aria-label":"Product Image Link","onUpdate:modelValue":e[1]||(e[1]=t=>c.formValues.thumbnail=t)},null,512),[[o.Jo,c.formValues.thumbnail,void 0,{lazy:!0,trim:!0}]])])]),e[4]||(e[4]=(0,i.Lk)("button",{type:"submit",class:"btn btn-sm btn-blue w-100"},"Submit",-1)),(0,i.Lk)("p",{class:"text-success text-center mt-2 mb-0 fw-bold",style:(0,a.Tr)(c.submitted?{display:"block"}:{display:"none"})},e[3]||(e[3]=[(0,i.eW)(" Your data is submitted Successfully "),(0,i.Lk)("i",{class:"fa-solid fa-circle-check"},null,-1)]),4)],32)],64)}s(4114);var c=s(8660),m=s(4712),h={name:"CategoryForm",components:{LoadingScreen:c.A},mixins:[m.A],data(){return{formValues:{title:"",thumbnail:""},submitted:!1,isLoading:!1}},computed:{isEdit(){return this.$route.fullPath.includes("edit")},id(){return this.$route.params.id}},methods:{resetForm(){this.formValues.title="",this.formValues.thumbnail=""},async addCategory(){try{this.isLoading=!0,await this.addNewCategory(this.formValues),this.resetForm(),this.submitted=!0,this.$emit("refresh"),this.isLoading=!1}catch(t){console.log("error in adding category",t)}},async editCategory(){try{this.isLoading=!0,await this.updateCategory(this.category.id,this.formValues),this.submitted=!0,this.$router.push("/categories"),this.isLoading=!1}catch(t){console.log("cannot update category",t)}},async showCategory(){this.isLoading=!0,await this.getCategoryById(this.id),this.formValues.title=this.category.title,this.formValues.thumbnail=this.category.thumbnail,this.isLoading=!1}},async created(){this.isEdit?await this.showCategory():this.resetForm()},watch:{$route:{immediate:!0,handler(t){t.fullPath.includes("edit")?this.showCategory():this.resetForm()}}}},g=s(1241);const f=(0,g.A)(h,[["render",u]]);var y=f},8660:function(t,e,s){s.d(e,{A:function(){return d}});var i=s(6768);const a={class:"loading-screen d-flex justify-content-center align-items-center min-vh-100"};function o(t,e,s,o,r,n){return(0,i.uX)(),(0,i.CE)("div",a,e[0]||(e[0]=[(0,i.Lk)("span",{class:"loader"},null,-1)]))}var r={name:"LoadingScreen"},n=s(1241);const l=(0,n.A)(r,[["render",o],["__scopeId","data-v-9f0c320a"]]);var d=l}}]);
//# sourceMappingURL=876.e3c9529e.js.map